module.exports = {
  config: {
    name: "groupinfo",
    version: "1.0",
    author: "eran",
    countDown: 5,
    role: 0,
    shortDescription: "Show group information",
    longDescription: "Displays information about the current group (thread)",
    category: "info"
  },

  onStart: async function ({ message, event, threadsData }) {
    const threadID = event.threadID;

    try {
      const threadData = await threadsData.get(threadID);

      const name = threadData.threadName || "Unnamed Group";
      const emoji = threadData.emoji || "â”";
      const memberCount = threadData.members ? Object.keys(threadData.members).length : 0;
      const adminCount = threadData.adminIDs ? threadData.adminIDs.length : 0;
      const approvalMode = threadData.approvalMode ? "âœ… On" : "âŒ Off";
      const threadInfo = `
ğŸ“˜ ğ—šğ—¿ğ—¼ğ˜‚ğ—½ ğ—œğ—»ğ—³ğ—¼:
ğŸ“ ğ—¡ğ—®ğ—ºğ—²: ${name}
ğŸ†” ğ—šğ—¿ğ—¼ğ˜‚ğ—½ ğ—œğ——: ${threadID}
ğŸ‘¥ ğ— ğ—²ğ—ºğ—¯ğ—²ğ—¿ğ˜€: ${memberCount}
ğŸ‘‘ ğ—”ğ—±ğ—ºğ—¶ğ—»ğ˜€: ${adminCount}
ğŸ” ğ—”ğ—½ğ—½ğ—¿ğ—¼ğ˜ƒğ—®ğ—¹ ğ— ğ—¼ğ—±ğ—²: ${approvalMode}
ğŸ’  ğ—šğ—¿ğ—¼ğ˜‚ğ—½ ğ—˜ğ—ºğ—¼ğ—·ğ—¶: ${emoji}
`;

      message.reply(threadInfo);
    } catch (err) {
      console.error(err);
      message.reply("âŒ Failed to fetch group info.");
    }
  }
};
